#
# Author: github.com/luncliff (luncliff@gmail.com)
#

jobs:
  - job: documentation
    pool:
      vmImage: "macos-latest"
    steps:
      - script: brew install doxygen
      - script: python3 -m pip install --user -r requirements.txt
      - script: doxygen ./docs/Doxyfile

      # doxybook - vuepress
      - script: python3 -m doxybook -i ./docs/xml -o ./docs -t vuepress
      - script: npm install -D vuepress
      - script: npm run build
      - script: bash ./scripts/release-docs.sh
      # # doxybook - mkdocs
      # - script: python3 -m doxybook -i docs/xml -o docs/md -t mkdocs
      # - script: python3 -m mkdocs build
      # # todo: doxybook2
      # - script: wget https://github.com/matusnovak/doxybook2/releases/download/v1.0.0/doxybook2-osx-amd64-v1.0.0.zip
      # # alternative: sphinx, breadth
      # - script: sphinx-build ./docs/ ./docs/sphinx
      # - script: tree -L 2 ./docs/sphinx
      # - script: Invoke-Item ./docs/sphinx/index.html
